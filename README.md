# AI Code Review Agent Â· GitHub Action

![Marketplace](https://img.shields.io/badge/GitHub%20Marketplace-AI%20Code%20Review%20Agent-blue?logo=github)
![CI](https://github.com/samushi/react-code-review-action/actions/workflows/test-action.yml/badge.svg)

Automated, LLMâ€‘powered codeâ€‘reviews for **React** & **Next.js** pullâ€‘requests.
The action scores the PR, posts a markdown report andâ€”if you wishâ€”fails the
CI pipeline when quality drops below your threshold.

---

## âœ¨ Features

| Icon | Feature                   | Description                                                                                                       |
| :--: | :------------------------ | :---------------------------------------------------------------------------------------------------------------- |
|  ðŸ¤–  | **AIâ€‘powered analysis**   | Works with **OpenAIÂ GPTâ€‘4/4o**, **AnthropicÂ ClaudeÂ 3**, **GoogleÂ Geminiâ€‘Pro** or any **Ollama/LlamaÂ 3** endpoint. |
|  ðŸ”  | **React / Next.js focus** | Parses `.js(x)` / `.ts(x)` diffs, flags common antipatterns & security issues.                                    |
|  ðŸ“Š  | **Structured report**     | ScoreÂ (1â€‘10) â€¢ recommendation â€¢ array of findings (JSON).                                                         |
|  ðŸŽ¯  | **Fully configurable**    | Glob filters, severity threshold, comment toggle.                                                                 |
|  ðŸš€  | **Plugâ€‘andâ€‘play**         | One `uses:` line â€” no server to run.                                                                              |

---

## QuickÂ Start (OpenAI)

```yaml
name: AI Code Review

on:
  pull_request:
    types: [opened, synchronize]

jobs:
  review:
    runs-on: ubuntu-latest
    steps:
      - uses: samushi/react-code-review-action@v1
        with:
          provider: openai                   # openai | anthropic | gemini | ollama
          github-token: ${{ secrets.GITHUB_TOKEN }}
          openai-api-key: ${{ secrets.OPENAI_API_KEY }}
          # optional
          ai-model: gpt-4o-mini
          min-score-threshold: 7
          fail-on-low-score: false
```

> **Secrets:** add the required API key for the chosen provider (`OPENAI_API_KEY`,
> `ANTHROPIC_API_KEY`, `GEMINI_API_KEY`) under **Settings â†’ SecretsÂ â†’Â Actions**.
> `GITHUB_TOKEN` is autoâ€‘generated by GitHub.

---

## ðŸ“¥ Inputs

| Name                  |         Required        | Default                     | Description                                                                   |
| --------------------- | :---------------------: | --------------------------- | ----------------------------------------------------------------------------- |
| `provider`            |            No           | `openai`                    | `openai` Â· `anthropic` Â· `gemini` Â· `ollama`                                  |
| `github-token`        |         **Yes**         | `${{ github.token }}`       | Token with `repo` scope to post PR comments.                                  |
| `openai-api-key`      |   if `provider=openai`  | â€“                           | OpenAI secret key.                                                            |
| `anthropic-api-key`   | if `provider=anthropic` | â€“                           | Anthropic Claude key.                                                         |
| `gemini-api-key`      |   if `provider=gemini`  | â€“                           | GoogleÂ GenerativeÂ AI key.                                                     |
| `ollama-base-url`     |   if `provider=ollama`  | `http://localhost:11434`    | Base URL of Ollama server.                                                    |
| `ai-model`            |            No           | provider default            | e.g. `gpt-4-turbo-preview`, `claude-3-opus-20240229`, `gemini-pro`, `llama3`. |
| `file-patterns`       |            No           | `**/*.{js,jsx,ts,tsx}`      | Commaâ€‘separated glob patterns to include.                                     |
| `exclude-patterns`    |            No           | `**/{node_modules,dist}/**` | Patterns to ignore.                                                           |
| `min-score-threshold` |            No           | `7`                         | Fail CI if score < threshold & `fail-on-low-score=true`.                      |
| `post-comment`        |            No           | `true`                      | Post report as PR comment.                                                    |
| `fail-on-low-score`   |            No           | `false`                     | Mark job failed when quality is low.                                          |

---

## ðŸ“¤ Outputs

| Output           | Description                                 |
| ---------------- | ------------------------------------------- |
| `review-score`   | Numeric score (1â€‘10).                       |
| `recommendation` | `POSITIVE`, `NEEDS_CHANGES`, or `NEGATIVE`. |
| `issues-found`   | Total findings reported by the AI.          |
| `review-summary` | Oneâ€‘paragraph summary.                      |

---

## Provider Examples

### Anthropic ClaudeÂ 3Â Sonnet

```yaml
with:
  provider: anthropic
  anthropic-api-key: ${{ secrets.ANTHROPIC_API_KEY }}
  ai-model: claude-3-sonnet-20240229
```

### GoogleÂ Geminiâ€‘Pro

```yaml
with:
  provider: gemini
  gemini-api-key: ${{ secrets.GEMINI_API_KEY }}
  ai-model: gemini-pro
```

### Local LlamaÂ 3 via Ollama

```yaml
with:
  provider: ollama
  ollama-base-url: http://localhost:11434
  ai-model: llama3
  post-comment: false   # dryâ€‘run
```

---

## Roadmap

* Vue & Svelte support
* Inline annotations via GitHub Checks API
* SARIF export for security scanners

> Contributions are welcome â€“ open an issue or PR! Licensed under **MIT**.
